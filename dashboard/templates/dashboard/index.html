{% extends 'dashboard.html' %}

{% load static %}

{% block stylesheet %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
{% endblock %}

{% block content %}
<div class="dashboardcontainer">
    <div class="section">
        <h1>Dashboard</h1>
        <p>Hi, Admin. Welcome back!</p>
    </div>

    <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
        <div class="section card" id="totalOrdersSection">
            <h4>Total Orders</h4>
            <p><span id="totalOrders">{{ total_orders }}</span></p>
        </div>
        <div class="section card" id="acceptedOrdersSection">
            <h4>Total Accepted</h4>
            <p><span id="acceptedOrders">{{ total_accepted }}</span></p>
        </div>
        <div class="section card" id="rejectedOrdersSection">
            <h4>Total Rejected</h4>
            <p><span id="rejectedOrders">{{ total_rejected }}</span></p>
        </div>
        <div class="section card" id="revenueSection">
            <h4>Total Revenue</h4>
            <p>RM <span id="totalRevenue">{{ total_revenue }}</span></p>
        </div>
    </div>

    <div class="section card" id="popularMenuSection">
        <h4>Most Popular Menu Item</h4>
        <p><span id="popularMenuItem"><strong>{{ popular_menu_item }}</strong></span></p>
    </div>

    <!-- Revenue Chart Section -->
    <div class="section card" id="revenueChartSection">
        <h4>Revenue Chart (Weekly)</h4>
        <div class="chart-container">
            <canvas id="revenueChart"></canvas>
        </div>
    </div>
    <!-- End Revenue Chart Section -->
</div>
{% endblock %}

{% block script %}
<script src="{% static 'js/chart.js' %}"></script>
<script src="{% static 'js/dashboard-chart.js' %}"></script>
{% endblock %}
